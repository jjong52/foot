<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Bid History Chart</title>
  <!-- Chart.js 라이브러리 포함 -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<div>
  <canvas id="bidHistoryChart" width="400" height="200"></canvas>
</div>

<script th:inline="javascript">
  // Thymeleaf에서 서버로부터 전달받은 데이터를 JavaScript로 파싱
  var chartData = [[${chartData}]];

  console.log(chartData);

  // 그래프 생성
  var ctx = document.getElementById('bidHistoryChart').getContext('2d');
  var myChart = new Chart(ctx, {
    type: 'bar', // 막대 그래프로 설정
    data: {
      labels: chartData.map(data => data.date), // 날짜 레이블
      datasets: [{
        label: 'BidHistory',
        data: chartData.map(data => data.count), // BidHistory 수 데이터
        backgroundColor: 'rgba(75, 192, 192, 0.2)', // 그래프 색상
        borderColor: 'rgba(75, 192, 192, 1)', // 그래프 테두리 색상
        borderWidth: 1 // 그래프 테두리 두께
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true,
          stepSize: 1 // 세로축 간격을 1로 설정 (정수)
        }
      }
    }
  });

</script>
</body>
</html>
